### Java 25 & Spring 7 업그레이드 분석 보고서

본 문서는 현재 프로젝트를 Java 25 및 Spring 7 환경으로 업그레이드할 때 필요한 작업과 주의사항을 분석한 결과입니다.

---

### 1. 주요 버전 목표
*   **Java**: 25 (LTS 예정)
*   **Kotlin**: 2.2.x 이상 (Java 25 지원 버전)
*   **Spring Framework**: 7.0
*   **Spring Boot**: 4.0 (Spring 7 기반 예정)
*   **Gradle**: 9.x 이상 (Java 25 지원을 위해 필요)

---

### 2. 단계별 업그레이드 절차

#### 1단계: 빌드 도구 및 기초 환경 업데이트
1.  **Gradle 업그레이드**: Java 25를 지원하는 Gradle 9.x 버전으로 업데이트가 필요합니다.
2.  **Java 25 설치 및 툴체인 설정**:
    *   `gradle.properties`의 `jvmTarget=25`로 수정.
    *   `build.gradle.kts`의 `JavaLanguageVersion.of(25)` 및 `JvmTarget.JVM_25`로 변경.
3.  **Kotlin 버전 업데이트**: Kotlin 2.2 버전 이상에서 Java 25와의 호환성을 확인해야 합니다.

#### 2단계: 프레임워크 업데이트 (Spring 7 / Boot 4)
1.  **의존성 관리 플러그인 업데이트**: `io.spring.dependency-management` 플러그인을 Spring Boot 4 호환 버전으로 업데이트합니다.
2.  **Jakarta EE 업데이트**: Spring 7은 Jakarta EE 11/12를 기반으로 할 가능성이 높으므로, 관련 라이브러리(`jakarta.validation`, `jakarta.persistence` 등)의 버전 확인이 필요합니다.

#### 3단계: 소스 코드 수정 및 테스트
1.  **폐기된 API 교체**: Java 21~25 사이에서 Deprecated 되거나 제거된 API(예: Security Manager 관련 등)를 사용하는지 확인하고 교체합니다.
2.  **가상 스레드(Virtual Threads) 최적화**: Java 21에서 도입되고 Java 25에서 더욱 최적화될 가상 스레드를 활용하도록 Spring MVC/WebFlux 설정을 조정합니다.

---

### 3. 주의사항 및 잠재적 충돌 지점

#### ① HikariCP와 AWS IAM 충돌 이슈
*   현재 프로젝트에서 `HikariCP` 5.1.0을 고정해서 사용 중입니다. (6.3.x 사용 시 IAM 로그인 Access denied 발생 주석 확인)
*   Spring Boot 4/Spring 7은 더 높은 버전의 `HikariCP`를 기본으로 채택할 것이므로, 이 이슈가 해결되었는지 확인하거나 별도의 `DataSource` 설정이 필요할 수 있습니다.

#### ② Google API Client 호환성
*   현재 `com.google.api-client:google-api-client`를 1.34.1 버전으로 강제 고정 중입니다.
*   Java 25에서는 구버전 구글 라이브러리가 오동작할 위험이 크므로, 프로젝트 내 주석 제안대로 **REST API 직접 호출** 방식으로의 전환을 강력히 권장합니다.

#### ③ Exposed 및 기타 노후 라이브러리
*   `org.jetbrains.exposed` 버전이 현재 매우 낮게 설정되어 있을 수 있습니다. (0.17.14 등) 최신 버전(0.50 이상)으로 업데이트하며 대대적인 문법 수정이 필요할 수 있습니다.
*   `io.github.microutils:kotlin-logging-jvm`은 현재 4.x 버전부터 `io.github.oshai:kotlin-logging`으로 패키지명이 변경되었습니다. 업그레이드 시 패키지 전환 작업이 필요합니다.

#### ④ Ktor 3.x 호환성
*   현재 Ktor 3.1.1을 사용 중이나, 일부 모듈에서 3점대 베타 버전 에러 이슈가 주석으로 언급되어 있습니다. Spring 7 배포 시점에 안정화된 Ktor 최신 버전을 매칭시켜야 합니다.

---

### 4. 권장 설정 변경 (버전업 시)

```properties
# gradle.properties 예상 변경
jvmTarget=25
kotlinVersion=2.2.0 (또는 그 이상)
springBootVersion=4.0.0
awsVersion=2.x (Kotlin SDK 최신)
```

```kotlin
// build.gradle.kts 예상 변경
java {
    toolchain { languageVersion = JavaLanguageVersion.of(25) }
}
kotlin { jvmToolchain(25) }
tasks.compileKotlin {
    compilerOptions {
        jvmTarget.set(JvmTarget.JVM_25)
    }
}
```

---

### 5. 요약
Java 25 및 Spring 7 업그레이드는 단순 버전 수정을 넘어 **가상 스레드 활용 극대화**와 **노후화된 구글/DB 라이브러리 정리**의 기회로 삼아야 합니다. 특히 **HikariCP의 IAM 이슈**와 **Google API Client 1.x 탈피**가 가장 큰 기술적 장애물이 될 것으로 예상됩니다.
